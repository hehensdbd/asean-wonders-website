(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4997,e=>{"use strict";let t=(0,e.i(75254).default)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);e.s(["LogIn",()=>t],4997)},13474,48256,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(22016),l=e.i(18566),s=e.i(75254);let o=(0,s.default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),n=(0,s.default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),i=(0,s.default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),c=(0,s.default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),d=(0,s.default)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>d],48256);let u=(0,s.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var m=e.i(4997);let h=(0,s.default)("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);var b=e.i(57688);function x(){let[e,s]=(0,r.useState)(!1),[x,f]=(0,r.useState)(null),[p,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),[j,w]=(0,r.useState)(!1),[N,k]=(0,r.useState)(!1),[S,z]=(0,r.useState)(!1),[C,M]=(0,r.useState)(""),[I,L]=(0,r.useState)("简体中文"),[E,$]=(0,r.useState)("   泰国"),_=(0,l.useRouter)(),q=(0,l.usePathname)(),P=(0,l.useSearchParams)();(0,r.useEffect)(()=>{let e=()=>{let e=localStorage.getItem("auth_token"),t=localStorage.getItem("user_info");e&&t&&z(!0)};e();let t=()=>e();return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)},[]);let T=[{label:"首页",href:"/"},{label:"探索",href:"/explore",submenu:[{label:"神话传说",href:"/explore/mythology"},{label:"节日庆典",href:"/explore/festivals"},{label:"艺术表演",href:"/explore/art"},{label:"美食风味",href:"/explore/food"},{label:"建筑古迹",href:"/explore/architecture"}]},{label:"资讯",href:"/news",submenu:[{label:"活动信息",href:"/news?type=events"},{label:"旅游讯息",href:"/news?type=travel"}]},{label:"文创",href:"/cultural-products",submenu:[{label:"文创产品",href:"/cultural-products?category=creative"},{label:"本地特产",href:"/cultural-products?category=local"},{label:"精美壁纸",href:"/cultural-products?category=wallpapers"}]},{label:"旅游",href:"/travel",submenu:[{label:"地区介绍",href:"/travel?section=regions"},{label:"路线规划",href:"/travel?section=routes"},{label:"票务信息",href:"/travel?section=tickets"}]},{label:"交流",href:"/community",submenu:[{label:"分享社区",href:"/community?tab=shares"},{label:"提问专区",href:"/community?tab=questions"},{label:"反馈建议",href:"/community?tab=feedback"}]},{label:"关于",href:"/about"}],R=e=>{f(e)},U=()=>{f(null)};return(0,t.jsx)("nav",{className:"sticky top-0 z-50 bg-[#1a3d3a] border-b border-primary-foreground/20",children:(0,t.jsxs)("div",{className:"w-full px-4 md:px-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between h-16 max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a.default,{href:"/",className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:(0,t.jsx)("div",{className:"relative w-32 h-12",children:(0,t.jsx)(b.default,{src:"/images/e4-b8-9c-e7-9b-9f-e4-b8-87-e8-b1-a12.png",alt:"东盟万象",fill:!0,className:"object-contain",priority:!0})})}),(0,t.jsxs)("div",{className:"relative hidden md:block",children:[(0,t.jsxs)("button",{className:"flex items-center gap-1 px-2 py-1 text-primary-foreground text-sm hover:bg-primary-foreground/10 rounded transition-colors",onClick:()=>w(!j),children:["-",E,(0,t.jsx)(i,{size:14,className:`transition-transform ${j?"rotate-180":""}`})]}),j&&(0,t.jsx)("div",{className:"absolute top-full left-0 bg-[#1a3d3a] border border-primary-foreground/20 rounded-md shadow-lg mt-1 w-32 z-50",onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:["柬埔寨","印尼","老挝","马来西亚","缅甸","菲律宾","新加坡","泰国","越南","文莱"].map(e=>(0,t.jsx)("button",{onClick:()=>{$(e),w(!1)},className:`block w-full text-left px-3 py-2 text-xs transition-colors ${E===e?"bg-accent text-accent-foreground font-semibold":"text-white hover:bg-accent hover:text-accent-foreground"}`,children:e},e))})]})]}),(0,t.jsx)("div",{className:"hidden lg:flex items-center gap-1",role:"navigation","aria-label":"主导航",children:T.map(e=>(0,t.jsxs)("div",{className:"relative",onMouseEnter:()=>e.submenu&&R(e.label),onMouseLeave:()=>e.submenu&&U(),children:[(0,t.jsx)(a.default,{href:e.href,children:(0,t.jsxs)("button",{className:"px-3 py-2 text-sm font-medium text-white hover:bg-primary-foreground/10 transition-colors rounded-md flex items-center gap-1","aria-expanded":e.submenu?x===e.label:void 0,"aria-haspopup":e.submenu?"menu":void 0,children:[e.label,e.submenu&&(0,t.jsx)(i,{size:16,className:`transition-transform ${x===e.label?"rotate-180":""}`,"aria-hidden":"true"})]})}),e.submenu&&x===e.label&&(0,t.jsx)("div",{className:"absolute top-full left-0 bg-[#1a3d3a] border border-primary-foreground/20 rounded-md shadow-lg mt-0 w-48",role:"menu",onMouseEnter:()=>R(e.label),onMouseLeave:()=>U(),children:e.submenu.map(e=>(0,t.jsx)(a.default,{href:e.href,className:"block px-4 py-2 text-sm text-white hover:bg-accent hover:text-accent-foreground whitespace-nowrap first:rounded-t-md last:rounded-b-md transition-colors",role:"menuitem",children:e.label},e.label))})]},e.label))}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("button",{className:"p-2 hover:bg-primary-foreground/10 rounded-md transition-colors","aria-label":"搜索",onClick:()=>g(!p),children:(0,t.jsx)(c,{size:20,className:"text-white"})}),p&&(0,t.jsx)("div",{className:"absolute top-full right-0 bg-[#1a3d3a] border border-primary-foreground/20 rounded-md shadow-lg mt-2 w-72 p-4 z-50",children:(0,t.jsxs)("div",{className:"relative flex items-center",children:[(0,t.jsx)(c,{size:18,className:"absolute left-3 text-white/60","aria-hidden":"true"}),(0,t.jsx)("input",{type:"text",placeholder:"搜索文化、节日、美食...",value:C,onChange:e=>M(e.target.value),onKeyPress:e=>"Enter"===e.key&&void(C.trim()&&(_.push(`/search?q=${encodeURIComponent(C)}`),M(""),g(!1))),className:"w-full pl-10 pr-4 py-2 rounded-lg bg-white text-foreground placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-accent","aria-label":"搜索东盟文化内容",autoFocus:!0})]})})]}),(0,t.jsxs)("div",{className:"relative hidden md:block",children:[(0,t.jsxs)("button",{className:"p-2 hover:bg-primary-foreground/10 rounded-md transition-colors flex items-center gap-1","aria-label":"语言选择",onClick:()=>v(!y),children:[(0,t.jsx)(d,{size:20,className:"text-white"}),(0,t.jsx)("span",{className:"text-white text-xs hidden lg:inline",children:I})]}),y&&(0,t.jsx)("div",{className:"absolute top-full right-0 bg-[#1a3d3a] border border-primary-foreground/20 rounded-md shadow-lg mt-2 w-40 z-50",children:["简体中文","繁体中文","English","ไทย","Tiếng Việt"].map(e=>(0,t.jsx)("button",{onClick:()=>{L(e),v(!1)},className:`block w-full text-left px-4 py-2 text-sm transition-colors ${I===e?"bg-accent text-accent-foreground font-semibold":"text-white hover:bg-accent hover:text-accent-foreground"}`,children:e},e))})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("button",{className:"p-2 hover:bg-primary-foreground/10 rounded-md transition-colors","aria-label":"用户账户",onClick:()=>k(!N),children:S?(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-accent flex items-center justify-center text-accent-foreground font-bold text-sm",children:"用"}):(0,t.jsx)(h,{size:20,className:"text-white"})}),N&&(0,t.jsx)("div",{className:"absolute top-full right-0 bg-[#1a3d3a] border border-primary-foreground/20 rounded-md shadow-lg mt-2 w-48 z-50",children:S?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"px-4 py-3 border-b border-primary-foreground/20 text-white text-sm",children:"用户账户"}),(0,t.jsx)(a.default,{href:"/profile",className:"block px-4 py-2 text-sm text-white hover:bg-accent hover:text-accent-foreground transition-colors",children:"个人资料"}),(0,t.jsx)(a.default,{href:"/favorites",className:"block px-4 py-2 text-sm text-white hover:bg-accent hover:text-accent-foreground transition-colors",children:"我的收藏"}),(0,t.jsxs)("button",{onClick:()=>{localStorage.removeItem("auth_token"),localStorage.removeItem("user_info"),localStorage.removeItem("login_callback"),z(!1),k(!1),_.refresh()},className:"w-full text-left px-4 py-2 text-sm text-white hover:bg-accent hover:text-accent-foreground transition-colors flex items-center gap-2",children:[(0,t.jsx)(u,{size:16}),"登出"]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>{let e=q+(P.toString()?`?${P.toString()}`:"");localStorage.setItem("login_callback",e),_.push("/auth/login"),k(!1)},className:"w-full text-left px-4 py-2 text-sm text-white hover:bg-accent hover:text-accent-foreground transition-colors flex items-center gap-2 border-b border-primary-foreground/20",children:[(0,t.jsx)(m.LogIn,{size:16}),"登录"]}),(0,t.jsx)("button",{onClick:()=>{let e=q+(P.toString()?`?${P.toString()}`:"");localStorage.setItem("login_callback",e),_.push("/auth/register"),k(!1)},className:"block w-full text-left px-4 py-2 text-sm text-white hover:bg-accent hover:text-accent-foreground transition-colors",children:"注册账户"})]})})]}),(0,t.jsx)("button",{className:"lg:hidden p-2 hover:bg-primary-foreground/10 rounded-md transition-colors",onClick:()=>s(!e),"aria-label":e?"关闭菜单":"打开菜单","aria-expanded":e,children:e?(0,t.jsx)(n,{size:24,className:"text-white"}):(0,t.jsx)(o,{size:24,className:"text-white"})})]})]}),e&&(0,t.jsx)("div",{className:"lg:hidden border-t border-primary-foreground/20 pb-4 bg-[#1a3d3a]",role:"navigation","aria-label":"移动导航",children:T.map(e=>(0,t.jsxs)("div",{children:[(0,t.jsxs)("button",{className:"w-full text-left px-4 py-2 text-sm font-medium text-white hover:bg-primary-foreground/10 transition-colors flex justify-between items-center",onClick:()=>f(x===e.label?null:e.label),"aria-expanded":e.submenu?x===e.label:void 0,"aria-haspopup":e.submenu?"menu":void 0,children:[(0,t.jsx)(a.default,{href:e.href,children:e.label}),e.submenu&&(0,t.jsx)(i,{size:16,className:`transform transition-transform ${x===e.label?"rotate-180":""}`,"aria-hidden":"true"})]}),e.submenu&&x===e.label&&(0,t.jsx)("div",{className:"bg-[#1a3d3a]",role:"menu",children:e.submenu.map(e=>(0,t.jsx)(a.default,{href:e.href,className:"block px-8 py-2 text-sm text-white hover:bg-accent hover:text-accent-foreground transition-colors",role:"menuitem",children:e.label},e.label))})]},e.label))})]})})}e.s(["Navigation",()=>x],13474)}]);